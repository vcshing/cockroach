<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
  
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />

	
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap-theme.css">
	<link rel="stylesheet" href="css/custom.css">
	

    <title>Hello World</title>
	
	<style>

	  .left {
		position: absolute;
		left: 0px;
		top:0px;
		bottom:100px;
		margin: 5px;
		width: 250px;
	  }

		div.a {
			width: 50px;
			height:50px;
			position:fixed;
		}

		


html  {
bgcolor="black";
background: url("img/screen.png");
background-repeat: no-repeat;
background-size: 100%;
}	

body  {
bgcolor="black";
background: url("img/screen.png");
background-repeat: no-repeat;
background-size: 100%;
}			
	</style>
</head>

<body>
   <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
		<script src='js/jquery.js'></script>
	<!--<script src='js/jquery.mobile.custom.js'></script>-->
	<script src='js/bootstrap.js'></script>

	<!--<script src="js/local_storage_manager.js"></script>-->
	<script src="js/function.js"></script>
<script>


</script>
<!--<img class = "up" src="img/1.gif">
<img class = "down" src="img/2.gif">
<img class = "left"src="img/life3.gif">
<img id = "right" src="img/life3.gif">-->
<!--<img class = "die"src="img/5.gif">-->
<!--<div class='bg'>
	<img class="bgimg" src="img/screen.png" style="
			margin: 0 auto;
			display: table;
			position: relative;
			top: 50%;
			-webkit-transform: translateY(50%);
			-moz-transform: translateY(50%);
			-o-transform: translateY(50%);
			-ms-transform: translateY(50%);
			transform: translateY(50%);
	
	">
</div>
-->
<div class='a'>
	<img class ="left" src="img/c1.gif">
</div>
    <script type="text/javascript">
	app.initialize();
	
$(document).ready(function(){

    animateDiv($(".a"));
	
	
	if(Math.floor(Math.random() * 2) + 1 == 1 ){
		window.admob.requestInterstitialAd();
	}
});
var init=1
$(window).bind("click",function(){

	if(Math.floor(Math.random() * 4) + 1 == 1 ){
		window.admob.requestInterstitialAd();
    }
	if(init==0){
		//clearInterval(myTimer);
		navigator.vibrate([]);
		init=1;
	}else{

	//	var myTimer = setInterval(function(){
			navigator.vibrate([1000, 1000, 3000, 1000, 5000, 1000, 5000, 1000, 5000, 1000, 5000, 1000, 5000, 1000, 5000]);
	//	}, 11000);
		init=0;
	}
	
	
})
function makeNewPosition(){
    
    // Get viewport dimensions (remove the dimension of the div)
    var h = $(window).height() -150;
    var w = $(window).width() -200;
    
    var nh = Math.floor(Math.random() * h);
    var nw = Math.floor(Math.random() * w);
    
    return [nh,nw];    
    
}

function animateDiv($target){
    var newq = makeNewPosition();

    var oldq = $target.offset();
	//debugger;
	console.log("newq"+newq)
	console.log("oldq"+oldq.top +"left:"+ oldq.left)
	
    var speed = calcSpeed([oldq.top, oldq.left], newq);
    
    $('.a').animate({ top: newq[0], left: newq[1] }, speed, function(){
      animateDiv($target);        
    });
    
};

function calcSpeed(prev, next) {
    
    var x = Math.abs(prev[1] - next[1]);
    var y = Math.abs(prev[0] - next[0]);
    
    var greatest = x > y ? x : y;
    
    var speedModifier = 0.2;

    var speed = Math.ceil(greatest/speedModifier);

    return speed;

}





        //app.initialize();
		/*
		$(function(){
			
			
		var elem = $("#right"),
		  left = 0,
		  timer;
		// Move the element 10px on the right every 16ms
		timer = setInterval(function() {
			left += 50;
		    $( "#right" ).animate({
				opacity: 1,
				left: left,
				height: "linear"
			  }, 100, function() {
				
			  });
		  // clear the timer at 400px to stop the animation
		  if ( left == 400 ) {
			clearInterval( timer );
		  }
		}, 16);
		
		})
		*/
    </script>
</body>

</html>